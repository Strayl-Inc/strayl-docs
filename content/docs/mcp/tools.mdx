---
title: MCP Tools Reference
description: Complete reference for all 15 tools available in the Strayl MCP Server.
---

All tools that target a specific project accept a single `project` parameter in `"owner/slug"` format — for example `"alice/my-app"`. Use `list_projects` first if you don't know the project identifier.

## Projects

### `list_projects`

List all Strayl projects you are a member of. Returns the `project` identifier, name, visibility, production URL, your role, and a link to the project in the dashboard.

**Inputs:** none

---

### `get_project`

Get details of a specific project.

| Parameter | Type | Description |
|-----------|------|-------------|
| `project` | string | `"owner/slug"` — e.g. `"alice/my-app"` |

---

## Changes

### `list_changes`

List change proposals (updates) for a project.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `project` | string | yes | `"owner/slug"` |
| `status` | `proposed` \| `merged` \| `denied` \| `needs_restack` | no | Filter by status |

Returns up to 50 most recent changes ordered by creation date.

---

## Databases

### `list_databases`

List all databases for a project.

| Parameter | Type | Description |
|-----------|------|-------------|
| `project` | string | `"owner/slug"` |

---

### `create_database`

Create a new database for a project.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `project` | string | yes | `"owner/slug"` |
| `name` | string | yes | Database name |
| `environment` | `development` \| `production` | no | Defaults to `development` |
| `region` | string | no | Region identifier — see `list_regions` |

---

### `delete_database`

Delete a database from a project.

| Parameter | Type | Description |
|-----------|------|-------------|
| `project` | string | `"owner/slug"` |
| `databaseId` | string | Database ID to delete |

---

### `run_database_query`

Execute a SQL query against a project database.

| Parameter | Type | Description |
|-----------|------|-------------|
| `project` | string | `"owner/slug"` |
| `databaseId` | string | Database ID |
| `sql` | string | SQL query to execute |

---

### `get_database_connection`

Get the connection string for a project database.

| Parameter | Type | Description |
|-----------|------|-------------|
| `project` | string | `"owner/slug"` |
| `databaseId` | string | Database ID |

---

### `list_regions`

List available database regions. No inputs required.

---

## Database Migrations

Migrations use a two-step prepare/apply pattern — the agent reviews the current schema and the SQL before applying any changes.

### `prepare_database_migration`

Prepare a SQL migration. Fetches the current schema for review and returns a `migrationId`. Auto-detects the development database if `databaseId` is omitted.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `project` | string | yes | `"owner/slug"` |
| `migrationSql` | string | yes | SQL statements to apply |
| `databaseId` | string | no | Defaults to the development database |

**Returns:** `migrationId`, `migrationSql`, `databaseId`, and `currentSchema`.

---

### `complete_database_migration`

Apply a previously prepared migration.

| Parameter | Type | Description |
|-----------|------|-------------|
| `project` | string | `"owner/slug"` |
| `databaseId` | string | Returned by `prepare_database_migration` |
| `migrationSql` | string | SQL to apply |
| `migrationId` | string | ID from `prepare_database_migration` |

---

### `promote_schema`

Promote the database schema from development to production.

| Parameter | Type | Description |
|-----------|------|-------------|
| `project` | string | `"owner/slug"` |

---

## Environment Variables

### `list_env_vars`

List environment variables for a project.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `project` | string | yes | `"owner/slug"` |
| `environment` | `dev` \| `prod` | no | Defaults to `dev` |

---

### `update_env_var`

Create or update an environment variable.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `project` | string | yes | `"owner/slug"` |
| `key` | string | yes | Variable name |
| `value` | string | yes | Variable value |
| `environment` | `dev` \| `prod` | no | Defaults to `dev` |

---

### `delete_env_var`

Delete an environment variable.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `project` | string | yes | `"owner/slug"` |
| `key` | string | yes | Variable name to delete |
| `environment` | `dev` \| `prod` | no | Defaults to `dev` |
